(this["webpackJsonpamazon-clone"]=this["webpackJsonpamazon-clone"]||[]).push([[0],{209:function(e,t,a){e.exports=a(394)},214:function(e,t,a){},215:function(e,t,a){},216:function(e,t,a){},232:function(e,t,a){},233:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},289:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},388:function(e,t,a){},394:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(21),l=a.n(c),o=(a(214),a(176)),i=a(13),s=(a(215),a(216),a(177)),m=a.n(s),u=a(178),d=a.n(u),E=a(44),p=Object(n.createContext)(),g=function(e){var t=e.reducer,a=e.initialState,c=e.children;return r.a.createElement(p.Provider,{value:Object(n.useReducer)(t,a)},c)},f=function(){return Object(n.useContext)(p)},h=a(146),b=a.n(h),v=b.a.initializeApp({apiKey:"AIzaSyCcPSKlYtpdzBoAC8soeSmIARMzVKzrf5I",authDomain:"challenge-4b2b2.firebaseapp.com",databaseURL:"https://challenge-4b2b2.firebaseio.com",projectId:"challenge-4b2b2",storageBucket:"challenge-4b2b2.appspot.com",messagingSenderId:"962418448875",appId:"1:962418448875:web:f6cce5eeaf819481f661ae"}).firestore(),_=b.a.auth();var y=function(){var e=f(),t=Object(i.a)(e,2),a=t[0],n=a.basket,c=a.user;return t[1],r.a.createElement("div",{className:"App-header"},r.a.createElement(E.b,{to:"/"},r.a.createElement("img",{className:"App-header__logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png"})),r.a.createElement("div",{className:"App-header__search"},r.a.createElement("input",{className:"App-header__searchInput",type:"text"}),r.a.createElement("button",{className:"App-header__searchIcon"},r.a.createElement(m.a,{style:{fontSize:"24px"}}))),r.a.createElement("div",{className:"App-header__nav"},r.a.createElement(E.b,{to:!c&&"/login"},r.a.createElement("div",{onClick:function(){c&&_.signOut()},className:"App-header__option"},r.a.createElement("span",{className:"App-header__optionLineOne"},"Hello ",c?c.email:"Guest"),r.a.createElement("span",{className:"App-header__optionLineTwo"},c?"Sign Out":"Sign In"))),r.a.createElement(E.b,{to:"/orders"},r.a.createElement("div",{className:"App-header__option"},r.a.createElement("span",{className:"App-header__optionLineOne"},"Returns"),r.a.createElement("span",{className:"App-header__optionLineTwo"},"& Orders"))),r.a.createElement("div",{className:"App-header__option"},r.a.createElement("span",{className:"App-header__optionLineOne"},"Your"),r.a.createElement("span",{className:"App-header__optionLineTwo"},"Prime")),r.a.createElement(E.b,{to:"/checkout"},r.a.createElement("div",{className:"App-header__optionBasket"},r.a.createElement(d.a,null),r.a.createElement("span",{className:"App-header__optionLineTwo App-header__basketCount"},null===n||void 0===n?void 0:n.length)))))};a(232),a(233);var N=function(e){var t=e.id,a=e.title,n=e.image,c=e.price,l=e.rating,o=f(),s=Object(i.a)(o,2),m=(s[0].basket,s[1]);return r.a.createElement("div",{className:"product",style:{flex:1}},r.a.createElement("div",{className:"product__info"},r.a.createElement("a",{href:"/g?gid=".concat(t)},r.a.createElement("span",{style:{color:"black",fontSize:"20px",fontWeight:500}},a)),r.a.createElement("a",{href:"/g?gid=".concat(t)},r.a.createElement("p",{className:"product__price"},r.a.createElement("small",null,"$"),r.a.createElement("strong",null,c))),r.a.createElement("div",{className:"product__rating"},Array(l).fill().map((function(e,t){return r.a.createElement("p",null,"\ud83c\udf1f")})))),r.a.createElement("img",{src:n,alt:"",onClick:function(){return window.location.href="/g?gid=".concat(t)}}),r.a.createElement("button",{onClick:function(){m({type:"ADD_TO_BASKET",item:{id:t,title:a,image:n,price:c,rating:l}})}},"Add to Basket"))},O=a(48),S=a(205),j="/api2",k=a(414),C=a(56),A=a(415),w=function(){return fetch("".concat("/api2","/category?list_all=True"),{method:"GET"}).then((function(e){return 200===e.status?e.json():{result:[]}}))},x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e&&t||S.b.error("You should get all entry filled."),fetch("".concat("/api2","/category"),{method:"POST",body:JSON.stringify({category_id:e,name:t,super_category_id:a})}).then((function(e){if(201===e.status)return e.json()}))},T=a(76),I=a.n(T),P=a(102),G=function(){var e=r.a.useState([]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=r.a.useState([]),l=Object(i.a)(c,2),o=l[0],s=l[1],m=r.a.useState(!1),u=Object(i.a)(m,2),d=u[0],E=u[1];return r.a.useEffect((function(){fetch("".concat(j,"/good?mode=list_all"),{method:"GET"}).then((function(e){return 200===e.status?e.json():{result:[]}})).then((function(e){console.log(e);for(var t=[],a=0,r=e.result.length;a<r;a+=3)t.push(e.result.slice(a,a+2+(a+1)%2));n(t)})),w().then((function(e){s(e.result)})),fetch("".concat("/api2","/user"),{method:"POST",body:JSON.stringify({password:"Research-Password"})}).then(function(){var e=Object(P.a)(I.a.mark((function e(t){var a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200!==t.status){e.next=5;break}return S.b.success("Auto Login"),e.abrupt("return",t.json());case 5:if(405!==t.status){e.next=17;break}return S.b.info("User Recreating..."),e.next=9,fetch("".concat("/api2","/user?new=true"),{method:"POST",body:JSON.stringify({identity:"Research-User",password:"Research-Password"})}).then((function(e){return 201===e.status?e.json():{user_id:null}}));case 9:if(!(a=e.sent).user_id){e.next=15;break}return S.b.success("User Recreated"),e.abrupt("return",Object(O.a)(Object(O.a)({},a),{},{user_name:"Research-User"}));case 15:return S.b.error("Unsolvable Error Occurred"),e.abrupt("return",{});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"Home-heading"},r.a.createElement(C.a,{style:{fontWeight:800,fontSize:"18px",color:"white"},icon:r.a.createElement(k.a,null),type:"text",ghost:!0,onClick:function(){E(!0)}},"Categories")),r.a.createElement("div",{className:"Home-container"},r.a.createElement("img",{className:"home__image",src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:""}),a.map((function(e){return r.a.createElement("div",{className:"home__row"},e.map((function(e){return r.a.createElement(N,{id:e.good_id,title:e.name,price:e.price,rating:e.rating,image:e.image})})))}))),r.a.createElement(A.a,{title:"Category Menu",placement:"left",closable:!0,onClose:function(){E(!1)},visible:d},o.map((function(e){return r.a.createElement(C.a,{type:"text",style:{fontSize:"16px",fontWeight:400},href:"/gl?cid=".concat(e.category_id)},e.name)}))))},L=a(36),B=(a(259),a(260),a(90)),D=a.n(B),R=a(151),z=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},U=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return Object(O.a)(Object(O.a)({},e),{},{basket:[].concat(Object(R.a)(e.basket),[t.item])});case"EMPTY_BASKET":return Object(O.a)(Object(O.a)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var a=e.basket.findIndex((function(e){return e.id===t.id})),n=Object(R.a)(e.basket);return a>=0?n.splice(a,1):console.warn("Cant remove product (id: ".concat(t.id,") as its not in basket!")),Object(O.a)(Object(O.a)({},e),{},{basket:n});case"SET_USER":return Object(O.a)(Object(O.a)({},e),{},{user:t.user});default:return e}};var M=function(){var e=Object(L.g)(),t=f(),a=Object(i.a)(t,2),n=a[0].basket;return a[1],r.a.createElement("div",{className:"subtotal"},r.a.createElement(D.a,{renderText:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Subtotal (",n.length," items): ",r.a.createElement("strong",null,e)),r.a.createElement("small",{className:"subtotal__gift"},r.a.createElement("input",{type:"checkbox"})," This order contains a gift"))},decimalScale:2,value:z(n),displayType:"text",thousandSeparator:!0,prefix:"$"}),r.a.createElement("button",{onClick:function(t){return e.push("/payment")}},"Proceed to Checkout"))};a(262);var Y=function(e){var t=e.id,a=e.image,n=e.title,c=e.price,l=e.rating,o=e.hideButton,s=f(),m=Object(i.a)(s,2),u=(m[0].basket,m[1]);return r.a.createElement("div",{className:"checkoutProduct"},r.a.createElement("img",{className:"checkoutProduct__image",src:a}),r.a.createElement("div",{className:"checkoutProduct__info"},r.a.createElement("p",{className:"checkoutProduct__title"},n),r.a.createElement("p",{className:"checkoutProduct__price"},r.a.createElement("small",null,"$"),r.a.createElement("strong",null,c)),r.a.createElement("div",{className:"checkoutProduct__rating"},Array(l).fill().map((function(e,t){return r.a.createElement("p",null,"\ud83c\udf1f")}))),!o&&r.a.createElement("button",{onClick:function(){u({type:"REMOVE_FROM_BASKET",id:t})}},"Remove from Basket")))};var K=function(){var e=f(),t=Object(i.a)(e,2),a=t[0],n=a.basket,c=a.user;return t[1],r.a.createElement("div",{className:"checkout"},r.a.createElement("div",{className:"checkout__left"},r.a.createElement("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:""}),r.a.createElement("div",null,r.a.createElement("h3",null,"Hello, ",null===c||void 0===c?void 0:c.email),r.a.createElement("h2",{className:"checkout__title"},"Your shopping Basket"),n.map((function(e){return r.a.createElement(Y,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})})))),r.a.createElement("div",{className:"checkout__right"},r.a.createElement(M,null)))};a(263);var F=function(){var e=Object(L.g)(),t=Object(n.useState)(""),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),m=s[0],u=s[1];return r.a.createElement("div",{className:"login"},r.a.createElement(E.b,{to:"/"},r.a.createElement("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png"})),r.a.createElement("div",{className:"login__container"},r.a.createElement("h1",null,"Sign-in"),r.a.createElement("form",null,r.a.createElement("h5",null,"E-mail"),r.a.createElement("input",{type:"text",value:c,onChange:function(e){return l(e.target.value)}}),r.a.createElement("h5",null,"Password"),r.a.createElement("input",{type:"password",value:m,onChange:function(e){return u(e.target.value)}}),r.a.createElement("button",{type:"submit",onClick:function(t){t.preventDefault(),_.signInWithEmailAndPassword(c,m).then((function(t){e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login__signInButton"},"Sign In")),r.a.createElement("p",null,"By signing-in you agree to the AMAZON FAKE CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."),r.a.createElement("button",{onClick:function(t){t.preventDefault(),_.createUserWithEmailAndPassword(c,m).then((function(t){t&&e.push("/")})).catch((function(e){return alert(e.message)}))},className:"login__registerButton"},"Create your Amazon Account")))},H=(a(264),a(410)),W=a(416),V=function(){var e=new URLSearchParams(Object(L.h)().search).get("cid"),t=r.a.useState([]),a=Object(i.a)(t,2),n=a[0],c=a[1],l=r.a.useState(),o=Object(i.a)(l,2),s=(o[0],o[1]),m=r.a.useState([]),u=Object(i.a)(m,2),d=u[0],E=u[1];return r.a.useEffect((function(){var t;(t=e,fetch("".concat(j,"/good?mode=list&cid=").concat(t),{method:"GET"}).then((function(e){return 200===e.status?e.json():{result:[]}}))).then((function(e){c(e.result),console.log(e.result),s(e.category_name)})),w().then((function(e){E(e.result)}))}),[]),r.a.createElement("div",{className:"GList-page"},r.a.createElement("div",{className:"GList-heading-bar"},"1-16 out of 2000 results"),r.a.createElement("div",{className:"GList-main"},r.a.createElement("div",{className:"Siding-menu"},r.a.createElement(C.a,{type:"text",href:"/",style:{fontSize:"16px",fontWeight:500}},"Back"),d.map((function(e){return r.a.createElement(C.a,{type:"text",style:{fontSize:"16px",fontWeight:400},href:"/gl?cid=".concat(e.category_id)},e.name)}))),r.a.createElement(H.b,{className:"GList-list",bordered:!1,dataSource:n,renderItem:function(e){return r.a.createElement(H.b.Item,{className:"GList-item"},r.a.createElement("img",{className:"GList-item-image",src:e.image}),r.a.createElement("div",{className:"GList-item-info"},r.a.createElement("a",{href:"/g?gid=".concat(e.good_id)},r.a.createElement("span",{className:"Good-name"},e.name)),r.a.createElement(W.a,{disabled:!0,value:e.rating}),r.a.createElement("a",{href:"/g?gid=".concat(e.good_id)},r.a.createElement("div",{className:"Good-price"},r.a.createElement("span",{className:"Good-price-label"},"$"),r.a.createElement("span",{className:"Good-price-number"},e.price)))))}})))},J=(a(289),a(82)),$=a(188),Q=a.n($).a.create({baseURL:"https://us-central1-challenge-4b2b2.cloudfunctions.net/api"});var q=function(){var e=f(),t=Object(i.a)(e,2),a=t[0],c=a.basket,l=a.user,o=t[1],s=Object(L.g)(),m=Object(J.useStripe)(),u=Object(J.useElements)(),d=Object(n.useState)(!1),p=Object(i.a)(d,2),g=p[0],h=p[1],b=Object(n.useState)(""),_=Object(i.a)(b,2),y=_[0],N=_[1],O=Object(n.useState)(null),S=Object(i.a)(O,2),j=S[0],k=S[1],C=Object(n.useState)(!0),A=Object(i.a)(C,2),w=A[0],x=A[1],T=Object(n.useState)(!0),G=Object(i.a)(T,2),B=G[0],R=G[1];Object(n.useEffect)((function(){(function(){var e=Object(P.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q({method:"post",url:"/payments/create?total=".concat(100*z(c))});case 2:t=e.sent,R(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[c]),console.log("THE SECRET IS >>>",B),console.log("\ud83d\udc71",l);var U=function(){var e=Object(P.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),N(!0),e.next=4,m.confirmCardPayment(B,{payment_method:{card:u.getElement(J.CardElement)}}).then((function(e){var t=e.paymentIntent;v.collection("users").doc(null===l||void 0===l?void 0:l.uid).collection("orders").doc(t.id).set({basket:c,amount:t.amount,created:t.created}),h(!0),k(null),N(!1),o({type:"EMPTY_BASKET"}),s.replace("/orders")}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"payment"},r.a.createElement("div",{className:"payment__container"},r.a.createElement("h1",null,"Checkout (",r.a.createElement(E.b,{to:"/checkout"},null===c||void 0===c?void 0:c.length," items"),")"),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Delivery Address")),r.a.createElement("div",{className:"payment__address"},r.a.createElement("p",null,null===l||void 0===l?void 0:l.email),r.a.createElement("p",null,"123 React Lane"),r.a.createElement("p",null,"Los Angeles, CA"))),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Review items and delivery")),r.a.createElement("div",{className:"payment__items"},c.map((function(e){return r.a.createElement(Y,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})})))),r.a.createElement("div",{className:"payment__section"},r.a.createElement("div",{className:"payment__title"},r.a.createElement("h3",null,"Payment Method")),r.a.createElement("div",{className:"payment__details"},r.a.createElement("form",{onSubmit:U},r.a.createElement(J.CardElement,{onChange:function(e){x(e.empty),k(e.error?e.error.message:"")}}),r.a.createElement("div",{className:"payment__priceContainer"},r.a.createElement(D.a,{renderText:function(e){return r.a.createElement("h3",null,"Order Total: ",e)},decimalScale:2,value:z(c),displayType:"text",thousandSeparator:!0,prefix:"$"}),r.a.createElement("button",{disabled:y||w||g},r.a.createElement("span",null,y?r.a.createElement("p",null,"Processing"):"Buy Now"))),j&&r.a.createElement("div",null,j))))))},X=(a(306),a(307),a(189)),Z=a.n(X);var ee=function(e){var t,a=e.order;return r.a.createElement("div",{className:"order"},r.a.createElement("h2",null,"Order"),r.a.createElement("p",null,Z.a.unix(a.data.created).format("MMMM Do YYYY, h:mma")),r.a.createElement("p",{className:"order__id"},r.a.createElement("small",null,a.id)),null===(t=a.data.basket)||void 0===t?void 0:t.map((function(e){return r.a.createElement(Y,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0})})),r.a.createElement(D.a,{renderText:function(e){return r.a.createElement("h3",{className:"order__total"},"Order Total: ",e)},decimalScale:2,value:a.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"$"}))};var te=function(){var e=f(),t=Object(i.a)(e,2),a=t[0],c=(a.basket,a.user),l=(t[1],Object(n.useState)([])),o=Object(i.a)(l,2),s=o[0],m=o[1];return Object(n.useEffect)((function(){c?v.collection("users").doc(null===c||void 0===c?void 0:c.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return m(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):m([])}),[c]),r.a.createElement("div",{className:"orders"},r.a.createElement("h1",null,"Your Orders"),r.a.createElement("div",{className:"orders__order"},null===s||void 0===s?void 0:s.map((function(e){return r.a.createElement(ee,{order:e})}))))},ae=a(190),ne=a(409),re=a(411),ce=a(412),le=a(413),oe=(a(308),function(){var e=r.a.useState([]),t=Object(i.a)(e,2),a=t[0],n=t[1],c=r.a.useState([]),l=Object(i.a)(c,2),o=l[0],s=l[1],m=r.a.useState([]),u=Object(i.a)(m,2);u[0],u[1];r.a.useEffect((function(){w().then((function(e){n(e.result)})),fetch("".concat(j,"/good?mode=list_all"),{method:"GET"}).then((function(e){return 200===e.status?e.json():{result:[]}})).then((function(e){s(e.result),console.log(e.result)}))}),[]);var d=r.a.useState(!1),E=Object(i.a)(d,2),p=E[0],g=E[1],f=r.a.useState(!1),h=Object(i.a)(f,2),b=h[0],v=h[1],_=r.a.useState(!1),y=Object(i.a)(_,2),N=y[0],k=y[1],A=r.a.useRef(),T=r.a.useRef(),I=ne.a.useForm(),P=Object(i.a)(I,1)[0];return r.a.createElement("div",{className:"AdminGoods-page"},r.a.createElement("h1",{style:{textAlign:"center"}},"Manage the Goods, Categories and Labels"),r.a.createElement(H.b,{className:"demo-loadmore-list",itemLayout:"horizontal",dataSource:a,bordered:!0,header:r.a.createElement("h2",null,"Categories"),renderItem:function(e){return r.a.createElement(H.b.Item,{actions:[r.a.createElement("a",{key:"list-loadmore-edit"},"Move"),r.a.createElement("a",{key:"list-loadmore-more"},"more")]},r.a.createElement(re.a,{avatar:!0,title:!1,loading:e.loading,active:!0},r.a.createElement("div",null,e.name)))},footer:r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(C.a,{onClick:function(){return g(!0)}},"Add"))}),r.a.createElement(ce.a,{visible:p,onOk:function(){A.current.submit(),g(!1)},onCancel:function(){return g(!1)},title:"Add a new category"},r.a.createElement(ne.a,{ref:A,layout:{abelCol:{span:8},wrapperCol:{span:16}},initialValues:{remember:!1},onFinish:function(e){console.log("Success:",e),x(e.category_id,e.name,e.super_category_id).then((function(e){e&&(S.b.success("You have successfully added a category"),w().then((function(e){n(e.result)})),g(!1))}))}},r.a.createElement(ne.a.Item,{label:"Category ID",name:"category_id",rules:[{required:!0}]},r.a.createElement(le.a,null)),r.a.createElement(ne.a.Item,{label:"Category Name",name:"name",rules:[{required:!0}]},r.a.createElement(le.a,null)),r.a.createElement(ne.a.Item,{label:"Super Category ID (Optional)",name:"super_category_id"},r.a.createElement(le.a,null)))),r.a.createElement(H.b,{className:"demo-loadmore-list",itemLayout:"horizontal",dataSource:o,bordered:!0,style:{marginTop:"10px"},header:r.a.createElement("h2",null,"Categories"),renderItem:function(e){return r.a.createElement(H.b.Item,{actions:[r.a.createElement(C.a,{onClick:function(){k(!0),console.log(e),P.setFieldsValue({good_id:e.good_id,category_id:e.category?e.category.category_id:null,name:e.name})},type:"link"},"Edit")]},r.a.createElement(re.a,{avatar:!0,title:!1,loading:e.loading,active:!0},r.a.createElement("div",{className:"List-item-name"},e.name)))},footer:r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center"}},r.a.createElement(C.a,{onClick:function(){return g(!0)}},"Add"))}),r.a.createElement(ce.a,{className:"Add-good-modal",visible:b,onOk:function(){T.current.submit(),v(!1)},onCancel:function(){return v(!1)},title:"Add a new good"},r.a.createElement(ne.a,{ref:T,layout:{abelCol:{span:8},wrapperCol:{span:16}},initialValues:{remember:!1},onFinish:function(e){console.log("Success:",e),x(e.category_id,e.name,e.super_category_id).then((function(e){e&&(S.b.success("You have successfully added a category"),w().then((function(e){n(e.result)})),g(!1))}))}},r.a.createElement(ne.a.Item,{label:"Category Name",name:"name",rules:[{required:!0}]},r.a.createElement(le.a,null)),r.a.createElement(ne.a.Item,{label:"Super Category ID (Optional)",name:"category_id"},r.a.createElement(le.a,null)))),r.a.createElement(ce.a,{className:"Edit-good-modal",visible:N,onOk:function(){P.submit(),k(!1)},onCancel:function(){return k(!1)},title:"Edit this good"},r.a.createElement("div",{style:{marginBottom:"20px"}},"Good id: ",P.getFieldValue("good_id")),r.a.createElement(ne.a,{form:P,layout:{abelCol:{span:8},wrapperCol:{span:16}},initialValues:{remember:!1},onFinish:function(e){var t,a;console.log("Success:",e),(t=e.good_id,a={category_id:e.category_id,name:e.name},fetch("".concat(j,"/good?gid=").concat(t),{method:"PATCH",body:JSON.stringify(Object(O.a)({},a))}).then((function(e){return 200===e.status?e.json():(S.b.error("Server Error, code="+e.status),null)}))).then((function(e){e&&(S.b.success("You have successfully added a category"),w().then((function(e){n(e.result)})),g(!1))}))}},r.a.createElement(ne.a.Item,{label:"Good ID",name:"good_id",hidden:!0},r.a.createElement(le.a,null)),r.a.createElement(ne.a.Item,{label:"Good Name",name:"name"},r.a.createElement(le.a,null)),r.a.createElement(ne.a.Item,{label:"Category ID",name:"category_id"},r.a.createElement(le.a,null)))))}),ie=function(){var e=Object(L.i)();return r.a.createElement(L.d,null,r.a.createElement(L.b,{path:"".concat(e.url,"/goods")},r.a.createElement(oe,null)),r.a.createElement(L.b,{path:"".concat(e.url)},r.a.createElement(L.a,{to:"".concat(e.url,"/goods")})))},se=a(408),me=a(417),ue=(a(388),a(407)),de=function(){var e=Object(L.i)(),t=new URLSearchParams(Object(L.h)().search).get("gid"),a=r.a.useState(),n=Object(i.a)(a,2),c=n[0],l=n[1],o=r.a.useState([]),s=Object(i.a)(o,2),m=s[0],u=s[1];return r.a.useState((function(){var e;(e=t,fetch("".concat(j,"/good?gid=").concat(e),{method:"GET"}).then((function(e){return 200===e.status?e.json():null}))).then((function(e){l(e),console.log(e)})),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return fetch("".concat("/api2","/suggestion?gid=").concat(e,"&size=").concat(t),{method:"GET"}).then((function(e){return 200===e.status?e.json():(S.b.error("Please Check Network Connection"),{result:[]})}))}(t,8).then((function(e){u(e.result)}))})),r.a.createElement("div",{className:"Detail-page",style:{backgroundColor:"white"}},r.a.createElement("div",{className:"Detail-heading-bar"},r.a.createElement(se.a,null,r.a.createElement(se.a.Item,null,r.a.createElement("a",{href:"/"},"Home")),r.a.createElement(se.a.Item,null,r.a.createElement("a",{href:c?c.category?"/gl?cid=".concat(c.category.category_id):"/":e.url},c?c.category?c.category.name:"Uncategorized":"Loading...")),r.a.createElement(se.a.Item,null,r.a.createElement("a",{href:e.url},c?c.name:"Loading...")))),r.a.createElement("div",{className:"Detail-contant"},r.a.createElement("div",{className:"Detail-main"},r.a.createElement("img",{className:"Detail-image",src:c?c.image:""}),r.a.createElement("div",{className:"Detail-info"},r.a.createElement("h1",null,c?c.name:"Loading..."),r.a.createElement(W.a,{disabled:!0,value:c?c.rating:0}),r.a.createElement(ue.a,null),r.a.createElement("div",{className:"Detail-description"},c?c.description:"Loading..."),r.a.createElement(me.b,{className:"Detail-choices"},r.a.createElement("div",{className:"Detail-choice-box"},r.a.createElement("span",null,"Price:"),r.a.createElement("div",{className:"Good-price"},r.a.createElement("span",{className:"Good-price-label"},"$"),r.a.createElement("span",{className:"Good-price-number"},c&&c.price)))),r.a.createElement("div",{className:"Detail-actions"},r.a.createElement(me.b,null,r.a.createElement(C.a,{className:"Add-to-cart"},"Add to cart"),r.a.createElement(C.a,{className:"Purchase"},"Purchase"))))),r.a.createElement("div",{className:"suggestions"},r.a.createElement(ue.a,{style:{marginTop:"50px"}},"Similar Goods"),r.a.createElement(me.b,null,m.slice(0,4).map((function(e){return r.a.createElement(N,{id:e.good_id,title:e.name,price:e.price,rating:e.rating,image:e.image})}))),r.a.createElement(me.b,null,m.slice(4,8).map((function(e){return r.a.createElement(N,{id:e.good_id,title:e.name,price:e.price,rating:e.rating,image:e.image})}))))))},Ee=Object(ae.a)("pk_test_51HPvU9DFg5koCdLGJJbNo60QAU99BejacsvnKvT8xnCu1wFLCuQP3WBArscK3RvSQmSIB3N0Pbsc7TtbQiJ1vaOi00X9sIbazL");var pe=function(){var e=f(),t=Object(i.a)(e,2);Object(o.a)(t[0]);var a=t[1];return Object(n.useEffect)((function(){_.onAuthStateChanged((function(e){console.log("THE USER IS >>> ",e),a(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),r.a.createElement(E.a,null,r.a.createElement("div",{className:"app"},r.a.createElement(L.d,null,r.a.createElement(L.b,{path:"/g"},r.a.createElement(y,null),r.a.createElement(de,null)),r.a.createElement(L.b,{path:"/admin"},r.a.createElement(ie,null)),r.a.createElement(L.b,{path:"/gl"},r.a.createElement(y,null),r.a.createElement(V,null)),r.a.createElement(L.b,{path:"/orders"},r.a.createElement(y,null),r.a.createElement(te,null)),r.a.createElement(L.b,{path:"/login"},r.a.createElement(F,null)),r.a.createElement(L.b,{path:"/checkout"},r.a.createElement(y,null),r.a.createElement(K,null)),r.a.createElement(L.b,{path:"/payment"},r.a.createElement(y,null),r.a.createElement(J.Elements,{stripe:Ee},r.a.createElement(q,null))),r.a.createElement(L.b,{path:"/"},r.a.createElement(y,null),r.a.createElement(G,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,{initialState:{basket:[],user:null},reducer:U},r.a.createElement(pe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[209,1,2]]]);
//# sourceMappingURL=main.c11c7288.chunk.js.map